<!-- font Awesome Link -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">


<mat-sidenav-container class="sidenav-container">
  <mat-sidenav  #drawer class="sidenav" fixedInViewport="true"
      [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
      [mode]="(isHandset$ | async) ? 'over' : 'side'"
      [opened]="!(isHandset$ | async)">
    <mat-toolbar class="logo-toolbar"></mat-toolbar>
      <div ngbDropdown class="user-info" placement="bottom-right">
        <img class="logo-img" src="../../assets/img/SST_Logo.png" alt="pic-user"/>
        <br><br>    
        <img class="profile-img img-circle" src="../../assets/img/pic-user.png" alt="pic-user"/>
        <p>Dr. Bahamed Rachid 
          <button class="btn-downMenu" mat-icon-button ngbDropdownToggle>
            <mat-icon>arrow_drop_down</mat-icon>
          </button>
        </p>                           
        <ul ngbDropdownMenu class="list-group">
          <a ngbDropdownItem class="list-group-item" routerLink="parametre-compte">
            <span class="fas fa-cog"></span>                                                      
            Paramètres du compte
          </a>
          <a ngbDropdownItem class="list-group-item" routerLink="">
            <span class="fas fa-sign-out-alt">
              <button class="" (click)="signOut()">Déconnexion</button>  
            </span>
          </a>
        </ul>
        <p class="user_name">Médecin du travail</p>
      </div>
      <!-- <cdk-virtual-scroll-viewport itemSize="50" class="example-viewport">      -->
        <mat-nav-list>
            <a mat-list-item routerLinkActive="active"  routerLink="dossier-medical">
              <span class="fas fa-folder-plus"> </span>
              Dossier Médical
            </a>
            <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
              <!-- This is the tree node template for leaf nodes -->
              <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding>
                <!-- use a disabled button to provide padding for tree leaf -->
                <a mat-list-item routerLinkActive="active" class="mat-nav-sous-liste" routerLink="{{node.link}}">  
                  <span  class="fas {{node.icon}}"></span>                                              
                  {{node.name}}
                  <span class="badge {{node.badgeClass}}">{{node.badgeNum}}</span>
                </a>   
              </mat-tree-node>
              <!-- This is the tree node template for expandable nodes -->
              <mat-tree-node *matTreeNodeDef="let node;when: hasChild" matTreeNodePadding>    
                    <a mat-list-item>
                      <span class="fas {{node.icon}}"></span>              
                        {{node.name}}
                      <button class="btn-detail"mat-icon-button matTreeNodeToggle
                            [attr.aria-label]="'toggle ' + node.name">
                        <mat-icon class="mat-icon-rtl-mirror">
                          {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                        </mat-icon>
                      </button>
                    </a>
              </mat-tree-node>
            </mat-tree>
            <mat-divider></mat-divider>
            <a mat-list-item routerLinkActive="active" routerLink="accidents-travail">
              <span class="fas fa-user-injured"></span>                            
              Accidents de Travail 
            </a>
            <mat-divider></mat-divider>                    
            <a mat-list-item routerLinkActive="active" routerLink="rendez-vous">
              <span class="fas fa-calendar-plus"></span>                            
              Rendez-vous 
            </a>
            <mat-divider></mat-divider>  
            <a mat-list-item routerLinkActive="active" routerLink="risques-professionnels">
              <span class="fas fa-radiation-alt"></span>                            
              Risques Professionnels 
            </a>
            <mat-divider></mat-divider>        
            <a mat-list-item routerLinkActive="active" routerLink="statistiques">
              <span class="fas fa-chart-pie"></span>                                        
              Statistiques 
            </a>  
            <mat-divider></mat-divider>          
            <a mat-list-item routerLinkActive="active" routerLink="administration">
              <span class="fas fa-users-cog"></span>                                        
              Administration 
            </a>                                                
        </mat-nav-list>
      <!-- </cdk-virtual-scroll-viewport> -->
  </mat-sidenav>
  <mat-sidenav-content class="mat-sidenav-content">
    <mat-toolbar class="header-toolbar" color="primary">
          <button
            type="button"
            aria-label="Toggle sidenav"
            mat-icon-button
            (click)="drawer.toggle()"
            *ngIf="isHandset$ | async">
            <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
          </button>
          <div ngbDropdown>
            <button mat-icon-button ngbDropdownToggle>
              <mat-icon matBadge="13" matBadgeSize="small">
                notifications
              </mat-icon>
            </button>                                    
            <ul ngbDropdownMenu class="list-group">
              <a ngbDropdownItem class="list-group-item" href="#">notifiation 1</a>
              <a ngbDropdownItem class="list-group-item" href="#">notification 2</a>
              <a ngbDropdownItem class="list-group-item" href="#">notification 3</a>          
            </ul>
          </div>
          

      <span class="navBar-spacer"></span>

        <img class="profile-img-navBar img-circle" src="../../assets/img/pic-user-navBar.png" alt="pic-user"/>
        <p class="user-info-navBar-p">Docteur.</p> 
        <p class="user-info-navBar-p">Bahamed</p>  
      <div class="user-info-navBar" ngbDropdown placement="bottom-right">
        <button mat-icon-button ngbDropdownToggle>
          <mat-icon>
            arrow_drop_down
          </mat-icon>
        </button>                                    
        <ul ngbDropdownMenu class="list-group">
            <a ngbDropdownItem class="list-group-item" routerLink="parametre-compte">
              <span class="fas fa-cog"></span>                                                      
              Paramètres du compte 
            </a>
            <a ngbDropdownItem class="list-group-item" routerLink="">
              <span class="fas fa-sign-out-alt"></span>                                        
              Déconnexion
            </a>
          </ul>
      </div>
    </mat-toolbar>
    <!-- Add Content Here -->
    <div class="container component">
      <div class="row">
        <router-outlet></router-outlet> 
      </div>
    </div>
    <ng-content></ng-content>    
  </mat-sidenav-content>
</mat-sidenav-container>

